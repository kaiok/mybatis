<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE configuration
        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-config.dtd">
<configuration>
    <!--
        1ã€mybatiså¯ä»¥ä½¿ç”¨propertiesæ¥å¼•å…¥å¤–éƒ¨propertiesé…ç½®æ–‡ä»¶çš„å†…å®¹ï¼›
        resourceï¼šå¼•å…¥ç±»è·¯å¾„ä¸‹çš„èµ„æº
        urlï¼šå¼•å…¥ç½‘ç»œè·¯å¾„æˆ–è€…ç£ç›˜è·¯å¾„ä¸‹çš„èµ„æº?
      -->
    <properties resource="dbconfig.properties"/>


    <!--
        2ã€settingsåŒ…å«å¾ˆå¤šé‡è¦çš„è®¾ç½®é¡¹
        setting:ç”¨æ¥è®¾ç½®æ¯ä¸€ä¸ªè®¾ç½®é¡¹
            nameï¼šè®¾ç½®é¡¹å?
            valueï¼šè®¾ç½®é¡¹å–å??
     -->
    <settings>
        <!-- <setting name="mapUnderscoreToCamelCase" value="true"/> -->
        <setting name="jdbcTypeForNull" value="NULL"/>

        <!--æ˜¾ç¤ºçš„æŒ‡å®šæ¯ä¸ªæˆ‘ä»¬éœ€è¦æ›´æ”¹çš„é…ç½®çš„å?¼ï¼Œå³ä½¿ä»–æ˜¯é»˜è®¤çš„ã?‚é˜²æ­¢ç‰ˆæœ¬æ›´æ–°å¸¦æ¥çš„é—®é¢˜  -->
        <setting name="lazyLoadingEnabled" value="true"/>
        <setting name="aggressiveLazyLoading" value="false"/>
    </settings>


    <!-- 3ã€typeAliasesï¼šåˆ«åå¤„ç†å™¨ï¼šå¯ä»¥ä¸ºæˆ‘ä»¬çš„javaç±»åž‹èµ·åˆ«å?
            åˆ«åä¸åŒºåˆ†å¤§å°å†™
    -->
    <typeAliases>
        <!-- 1ã€typeAlias:ä¸ºæŸä¸ªjavaç±»åž‹èµ·åˆ«å?
                type:æŒ‡å®šè¦èµ·åˆ«åçš„ç±»åž‹å…¨ç±»å;é»˜è®¤åˆ«åå°±æ˜¯ç±»åå°å†™ï¼›employee
                alias:æŒ‡å®šæ–°çš„åˆ«å
         -->
        <!-- <typeAlias type="com.atguigu.mybatis.bean.Employee" alias="emp"/> -->

        <!-- 2ã€package:ä¸ºæŸä¸ªåŒ…ä¸‹çš„æ‰?æœ‰ç±»æ‰¹é‡èµ·åˆ«å?
                nameï¼šæŒ‡å®šåŒ…åï¼ˆä¸ºå½“å‰åŒ…ä»¥åŠä¸‹é¢æ‰?æœ‰çš„åŽä»£åŒ…çš„æ¯ä¸€ä¸ªç±»éƒ½èµ·ä¸?ä¸ªé»˜è®¤åˆ«åï¼ˆç±»åå°å†™ï¼‰ï¼Œï¼?
        -->
        <package name="com.kais.mybatis.bean"/>

        <!-- 3ã€æ‰¹é‡èµ·åˆ«åçš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨@Aliasæ³¨è§£ä¸ºæŸä¸ªç±»åž‹æŒ‡å®šæ–°çš„åˆ«å? -->
    </typeAliases>

    <!--
        4ã€environmentsï¼šçŽ¯å¢ƒä»¬ï¼Œmybatiså¯ä»¥é…ç½®å¤šç§çŽ¯å¢ƒ ,defaultæŒ‡å®šä½¿ç”¨æŸç§çŽ¯å¢ƒã€‚å¯ä»¥è¾¾åˆ°å¿«é€Ÿåˆ‡æ¢çŽ¯å¢ƒã??
            environmentï¼šé…ç½®ä¸€ä¸ªå…·ä½“çš„çŽ¯å¢ƒä¿¡æ¯ï¼›å¿…é¡»æœ‰ä¸¤ä¸ªæ ‡ç­¾ï¼›idä»£è¡¨å½“å‰çŽ¯å¢ƒçš„å”¯ä¸?æ ‡è¯†
                transactionManagerï¼šäº‹åŠ¡ç®¡ç†å™¨ï¼?
                    typeï¼šäº‹åŠ¡ç®¡ç†å™¨çš„ç±»åž?;JDBC(JdbcTransactionFactory)|MANAGED(ManagedTransactionFactory)
                        è‡ªå®šä¹‰äº‹åŠ¡ç®¡ç†å™¨ï¼šå®žçŽ°TransactionFactoryæŽ¥å£.typeæŒ‡å®šä¸ºå…¨ç±»å

                dataSourceï¼šæ•°æ®æº;
                    type:æ•°æ®æºç±»åž?;UNPOOLED(UnpooledDataSourceFactory)
                                |POOLED(PooledDataSourceFactory)
                                |JNDI(JndiDataSourceFactory)
                    è‡ªå®šä¹‰æ•°æ®æºï¼šå®žçŽ°DataSourceFactoryæŽ¥å£ï¼Œtypeæ˜¯å…¨ç±»å
         -->

    <environments default="dev_mysql">
        <environment id="dev_mysql">
            <transactionManager type="JDBC"/>
            <dataSource type="POOLED">
                <property name="driver" value="${jdbc.driver}" />
                <property name="url" value="${jdbc.url}" />
                <property name="username" value="${jdbc.username}" />
                <property name="password" value="${jdbc.password}" />
            </dataSource>
        </environment>

        <environment id="dev_oracle">
            <transactionManager type="JDBC" />
            <dataSource type="POOLED">
                <property name="driver" value="${orcl.driver}" />
                <property name="url" value="${orcl.url}" />
                <property name="username" value="${orcl.username}" />
                <property name="password" value="${orcl.password}" />
            </dataSource>
        </environment>
    </environments>


    <!-- 5ã€databaseIdProviderï¼šæ”¯æŒå¤šæ•°æ®åº“åŽ‚å•†çš„ï¼?
         type="DB_VENDOR"ï¼šVendorDatabaseIdProvider
             ä½œç”¨å°±æ˜¯å¾—åˆ°æ•°æ®åº“åŽ‚å•†çš„æ ‡è¯†(é©±åŠ¨getDatabaseProductName())ï¼Œmybatiså°±èƒ½æ ¹æ®æ•°æ®åº“åŽ‚å•†æ ‡è¯†æ¥æ‰§è¡Œä¸åŒçš„sql;
             MySQLï¼ŒOracleï¼ŒSQL Server,xxxx
      -->
    <databaseIdProvider type="DB_VENDOR">
        <!-- ä¸ºä¸åŒçš„æ•°æ®åº“åŽ‚å•†èµ·åˆ«å -->
        <property name="MySQL" value="mysql"/>
        <property name="Oracle" value="oracle"/>
        <property name="SQL Server" value="sqlserver"/>
    </databaseIdProvider>


    <!-- å°†æˆ‘ä»¬å†™å¥½çš„sqlæ˜ å°„æ–‡ä»¶ï¼ˆEmployeeMapper.xmlï¼‰ä¸€å®šè¦æ³¨å†Œåˆ°å…¨å±?é…ç½®æ–‡ä»¶ï¼ˆmybatis-config.xmlï¼‰ä¸­ -->
    <!-- 6ã€mappersï¼šå°†sqlæ˜ å°„æ³¨å†Œåˆ°å…¨å±?é…ç½®ä¸? -->
    <mappers>
        <!--
            mapper:æ³¨å†Œä¸?ä¸ªsqlæ˜ å°„
                æ³¨å†Œé…ç½®æ–‡ä»¶
                resourceï¼šå¼•ç”¨ç±»è·¯å¾„ä¸‹çš„sqlæ˜ å°„æ–‡ä»¶
                    mybatis/mapper/EmployeeMapper.xml
                urlï¼šå¼•ç”¨ç½‘è·¯è·¯å¾„æˆ–è€…ç£ç›˜è·¯å¾„ä¸‹çš„sqlæ˜ å°„æ–‡ä»¶
                    file:///var/mappers/AuthorMapper.xml

                æ³¨å†ŒæŽ¥å£
                classï¼šå¼•ç”¨ï¼ˆæ³¨å†Œï¼‰æŽ¥å£ï¼Œ
                    1ã€æœ‰sqlæ˜ å°„æ–‡ä»¶ï¼Œæ˜ å°„æ–‡ä»¶åå¿…é¡»å’ŒæŽ¥å£åŒåï¼Œå¹¶ä¸”æ”¾åœ¨ä¸ŽæŽ¥å£åŒä¸?ç›®å½•ä¸‹ï¼›
                    2ã€æ²¡æœ‰sqlæ˜ å°„æ–‡ä»¶ï¼Œæ‰€æœ‰çš„sqléƒ½æ˜¯åˆ©ç”¨æ³¨è§£å†™åœ¨æŽ¥å£ä¸?;
                    æŽ¨èï¼?
                        æ¯”è¾ƒé‡è¦çš„ï¼Œå¤æ‚çš„DaoæŽ¥å£æˆ‘ä»¬æ¥å†™sqlæ˜ å°„æ–‡ä»¶
                        ä¸é‡è¦ï¼Œç®?å•çš„DaoæŽ¥å£ä¸ºäº†å¼?å‘å¿«é€Ÿå¯ä»¥ä½¿ç”¨æ³¨è§£ï¼›
        -->
        <!-- <mapper resource="mybatis/mapper/EmployeeMapper.xml"/> -->
        <!-- <mapper class="com.atguigu.mybatis.dao.EmployeeMapperAnnotation"/> -->

        <!-- æ‰¹é‡æ³¨å†Œï¼? -->
        <package name="com.kais.mybatis.dao"/>
    </mappers>
</configuration>